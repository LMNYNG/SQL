WITH MAX_DATA AS(
SELECT YEAR(DIFFERENTIATION_DATE) AS YEAR , MAX(SIZE_OF_COLONY) AS MAX 
FROM ECOLI_DATA
GROUP BY YEAR(DIFFERENTIATION_DATE)
    ) 
SELECT B.YEAR, (B.MAX-A.SIZE_OF_COLONY) AS YEAR_DEV, A.ID 
FROM ECOLI_DATA A, MAX_DATA B
WHERE B.YEAR=YEAR(A.DIFFERENTIATION_DATE)
ORDER BY B.YEAR, YEAR_DEV
